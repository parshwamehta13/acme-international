{% extends 'logistics/firstpage.html' %}


{% block content %}

<div class="container-fluid">	
	<div class="row">
		<h4 class="col l2 s12 headingcolour">Trips List</h4>  
		<a  href="{% url 'trip_new' %}" class="btn-floating btn-large waves-effect waves-light teal darken-1"><i class="material-icons">add</i></a>
		
	</div>
	<form method="POST" class="post-form">{% csrf_token %}
    <div class="row">
    	<div class="col l4 s6">
	      <label for="search_item"> </label>    	
	      {{ form.trip_search_item}} <br>
	      </div>
    	<div class="col l2 s6">
	      <label for="search_item_by"> </label>    	
	      {{ form.trip_type}} <br>
      </div>
	   	<div class="col l1 s6">
      	<button type="submit" class="save btn btn-default red darken-1">Go</button>
	     	</div>
    	<div class="col l1 s6">
        <a href="{% url 'trips_admin' %}" class="waves-effect waves-light btn   teal darken-1">Clear</a>
      </div>
    </div>
	</form>
		{% if trip_list %}
	  <table class="striped centered bordered responsive-table">	  	
	    <thead>
	      <tr>
	      	<th>Document(s)</th> 
	        <th>Expenses</th>
	      	<th>Trip Id</th>
	        <th>Registration number</th>
	        <th>Source </th>
	        <th>Destination</th>
	        <th>Distance</th>
	        <th>Good Type</th>   
	        <th>Weight</th>
	        <th>Start Date</th>
	        <th>End Date</th>
	        
	        <th></th>
	      </tr>
	    </thead>
	    <tbody>
	    	{% for trip in trip_list %}
	      <tr>
	      	<td><a href="{% url 'show_docs' docs=trip.id %}"><i class="small material-icons icon-cyan">toll</i></td>
	         <td><a href="{% url 'show_tripexpenses' tripid=trip.id %}"><i class="small material-icons icon-cyann">toll</i></td>
	      	<td>{{trip.id}}</td>
	        <td>{{trip.truck_registration_number}}</td>
	        <td>{{trip.trip_source}}</td>
	        <td>{{trip.trip_destination}}</td>
	        <td>{{trip.trip_distance}}</td>	        
	        <td>{{trip.trip_goods_type}}</td>
	        <td>{{trip.trip_weight}}</td>
	        <td>{{trip.trip_start_date}}</td>
	        <td>{{trip.trip_end_date}}</td>
	        <td><a href="{% url 'delete_trip' did=trip.id %}"><i class="small material-icons icon-cyan">delete</i></a></td>
	      	<td>  <a href="{% url 'trip_edit' truck_number=trip.id %}" class="btn-floating btn-small teal darken-1"><i class="small material-icons">mode_edit</i></a>
    		</td>	
    		        
	      </tr>
	      {% endfor %}
	    </tbody>
	  </table>
	    {% else %}
	  <p>No trips registered !</p>
	  {% endif %}
	</div>
{% endblock %}